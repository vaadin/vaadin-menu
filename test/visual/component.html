<!DOCTYPE html>

<head lang="en">
  <meta charset="UTF-8">
  <script src="../../../webcomponentsjs/webcomponents-lite.js"></script>
  <script>
    const theme = window.location.search.replace(/.*theme=(\w+).*/, '$1') || 'lumo';
    document.write(`<link rel="import" href="../../theme/${theme}/vaadin-menu-bar.html">`);
  </script>
  <link rel="import" href="../../../vaadin-lumo-styles/icons.html">
  <link rel="import" href="../../../iron-icon/iron-icon.html">
  <style>
    /* cover all the viewport */
    #component-tests {
      padding: 10px;
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
    }
  </style>
</head>

<body>

  <div id="component-tests">
    <vaadin-menu-bar theme="outlined"></vaadin-menu-bar>
  </div>

  <script>
    function makeIcon(img) {
      const span = document.createElement('span');
      span.style.display = 'flex';
      span.style.alignItems = 'center';
      const icon = document.createElement('iron-icon');
      icon.icon = img;
      span.appendChild(icon);
      return span;
    }

    const menu = document.querySelector('vaadin-menu-bar');
    menu.items = [
      {component: 'u', text: 'Home'},
      {
        component: makeIcon('lumo:chevron-down'),
        children: [{text: 'Notifications'}, {text: 'Mark as read'}]
      }
    ];

    // eslint-disable-next-line no-unused-vars
    function openSubMenu() {
      menu.shadowRoot.querySelectorAll('vaadin-menu-bar-button')[1].click();
    }
  </script>

</body>
